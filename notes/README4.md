# ğŸ¯ Scheme è§£é‡Šå™¨æ”¯æŒçš„æ‰€æœ‰è¯­æ³•å½¢å¼

æœ¬æ–‡æ¡£è¯¦ç»†åˆ—å‡ºäº†å½“å‰ Scheme è§£é‡Šå™¨å®ç°ä¸­æ”¯æŒçš„æ‰€æœ‰è¯­æ³•å½¢å¼ã€åŸè¯­å‡½æ•°å’Œè¯­è¨€ç‰¹æ€§ã€‚

## 1. ç‰¹æ®Šå½¢å¼ (Special Forms)

è¿™äº›æ˜¯å…·æœ‰ç‰¹æ®Šè¯­æ³•å’Œæ±‚å€¼è§„åˆ™çš„ä¿ç•™å­—ï¼Œä¸èƒ½ä½œä¸ºæ™®é€šå‡½æ•°ä½¿ç”¨ï¼š

### 1.1 ç»‘å®šæ„é€ 

#### `let` - å±€éƒ¨å˜é‡ç»‘å®š
åˆ›å»ºå±€éƒ¨ä½œç”¨åŸŸï¼Œç»‘å®šå˜é‡åˆ°å€¼ã€‚
```scheme
;; åŸºæœ¬ç”¨æ³•
(let ((x 1) (y 2)) 
  (+ x y))                    ; ç»“æœ: 3

;; åµŒå¥—ç»‘å®š
(let ((x 5))
  (let ((y (* x 2)))
    (+ x y)))                 ; ç»“æœ: 15
```

#### `letrec` - é€’å½’ç»‘å®š
æ”¯æŒç›¸äº’é€’å½’çš„å˜é‡ç»‘å®šï¼Œç”¨äºå®šä¹‰é€’å½’å‡½æ•°ã€‚
```scheme
;; ç®€å•é€’å½’
(letrec ((factorial 
           (lambda (n) 
             (if (<= n 1) 1 (* n (factorial (- n 1)))))))
  (factorial 5))              ; ç»“æœ: 120

;; ç›¸äº’é€’å½’
(letrec ((even? (lambda (n) (if (= n 0) #t (odd? (- n 1)))))
         (odd?  (lambda (n) (if (= n 0) #f (even? (- n 1))))))
  (even? 10))                 ; ç»“æœ: #t
```

#### `define` - å˜é‡/å‡½æ•°å®šä¹‰
å®šä¹‰å…¨å±€å˜é‡æˆ–å‡½æ•°ï¼Œæ”¯æŒè¯­æ³•ç³–ã€‚
```scheme
;; å˜é‡å®šä¹‰
(define pi 3.14159)
(define greeting "Hello, World!")

;; å‡½æ•°å®šä¹‰ï¼ˆå®Œæ•´å½¢å¼ï¼‰
(define square (lambda (x) (* x x)))

;; å‡½æ•°å®šä¹‰ï¼ˆè¯­æ³•ç³–ï¼‰
(define (square x) (* x x))

;; å¤šå‚æ•°å‡½æ•°
(define (add3 x y z) (+ x y z))
```

### 1.2 æ§åˆ¶æµ

#### `if` - æ¡ä»¶è¡¨è¾¾å¼
äºŒè·¯åˆ†æ”¯æ¡ä»¶åˆ¤æ–­ã€‚
```scheme
;; åŸºæœ¬æ¡ä»¶åˆ¤æ–­
(if (> x 0) "positive" "non-positive")

;; åµŒå¥—æ¡ä»¶
(if (> x 0) 
    (if (< x 10) "single digit positive" "multi digit positive")
    "non-positive")
```

#### `cond` - å¤šè·¯æ¡ä»¶è¡¨è¾¾å¼
å¤šè·¯åˆ†æ”¯æ¡ä»¶åˆ¤æ–­ï¼Œç±»ä¼¼äº switch-caseã€‚
```scheme
;; åŸºæœ¬ç”¨æ³•
(cond 
  ((< x 0) "negative")
  ((= x 0) "zero")
  ((> x 0) "positive")
  (else "impossible"))

;; å¤æ‚æ¡ä»¶
(cond 
  ((and (>= score 90) (<= score 100)) "A")
  ((and (>= score 80) (< score 90))   "B") 
  ((and (>= score 70) (< score 80))   "C")
  (else "F"))
```

#### `begin` - é¡ºåºæ‰§è¡Œ
æŒ‰é¡ºåºæ‰§è¡Œå¤šä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œæ”¯æŒå†…éƒ¨å®šä¹‰ã€‚
```scheme
;; åŸºæœ¬åºåˆ—æ‰§è¡Œ
(begin 
  (display "Starting calculation...")
  (define result (* 6 7))
  (display "Calculation complete")
  result)                     ; ç»“æœ: 42

;; å†…éƒ¨å®šä¹‰
(begin
  (define (helper x) (* x 2))
  (define y 10)
  (helper y))                 ; ç»“æœ: 20
```

#### `and` - é€»è¾‘ä¸
çŸ­è·¯æ±‚å€¼çš„é€»è¾‘ä¸è¿ç®—ã€‚
```scheme
;; åŸºæœ¬ç”¨æ³•
(and #t #t #f)                ; ç»“æœ: #f
(and 1 2 3)                   ; ç»“æœ: 3 (æœ€åä¸€ä¸ªå€¼)

;; çŸ­è·¯æ±‚å€¼
(and #f (error "not reached")) ; ç»“æœ: #f (ä¸ä¼šæ‰§è¡Œerror)
```

#### `or` - é€»è¾‘æˆ–
çŸ­è·¯æ±‚å€¼çš„é€»è¾‘æˆ–è¿ç®—ã€‚
```scheme
;; åŸºæœ¬ç”¨æ³•
(or #f #f #t)                 ; ç»“æœ: #t
(or #f 42 #f)                 ; ç»“æœ: 42 (ç¬¬ä¸€ä¸ªçœŸå€¼)

;; çŸ­è·¯æ±‚å€¼
(or #t (error "not reached"))  ; ç»“æœ: #t (ä¸ä¼šæ‰§è¡Œerror)
```

### 1.3 å‡½æ•°å®šä¹‰

#### `lambda` - åŒ¿åå‡½æ•°è¡¨è¾¾å¼
åˆ›å»ºåŒ¿åå‡½æ•°ï¼Œæ”¯æŒé—­åŒ…ã€‚
```scheme
;; åŸºæœ¬lambda
(lambda (x) (* x x))

;; å¤šå‚æ•°lambda  
(lambda (x y z) (+ x y z))

;; æ— å‚æ•°lambda
(lambda () 42)

;; ç›´æ¥è°ƒç”¨lambda
((lambda (x y) (+ x y)) 3 4)   ; ç»“æœ: 7

;; å¤šè¡¨è¾¾å¼å‡½æ•°ä½“
(lambda (x)
  (define temp (* x 2))
  (display "Processing...")
  (+ temp 1))
```

### 1.4 æ•°æ®æ„é€ 

#### `quote` - å¼•ç”¨è¡¨è¾¾å¼
é˜²æ­¢è¡¨è¾¾å¼è¢«æ±‚å€¼ï¼Œè¿”å›å­—é¢æ•°æ®ã€‚
```scheme
;; å¼•ç”¨ç¬¦å·
(quote hello)                 ; ç»“æœ: hello
'hello                        ; è¯­æ³•ç³–å½¢å¼

;; å¼•ç”¨åˆ—è¡¨
(quote (+ 1 2))              ; ç»“æœ: (+ 1 2) (ä¸æ±‚å€¼)
'(1 2 3)                     ; ç»“æœ: (1 2 3)

;; å¼•ç”¨å­—ç¬¦ä¸²
'"quoted string"             ; ç»“æœ: "quoted string"
```

### 1.5 å˜é‡èµ‹å€¼

#### `set!` - ä¿®æ”¹å˜é‡å€¼
ä¿®æ”¹å·²å­˜åœ¨å˜é‡çš„å€¼ã€‚
```scheme
;; ä¿®æ”¹å…¨å±€å˜é‡
(define x 10)
(set! x 20)                   ; x ç°åœ¨æ˜¯ 20

;; ä¿®æ”¹é—­åŒ…å˜é‡
(define counter
  (let ((count 0))
    (lambda ()
      (set! count (+ count 1))
      count)))
(counter)                     ; ç»“æœ: 1
(counter)                     ; ç»“æœ: 2
```

## 2. åŸè¯­å‡½æ•° (Primitive Functions)

è¿™äº›æ˜¯å†…ç½®å‡½æ•°ï¼Œå¯ä»¥åƒæ™®é€šå‡½æ•°ä¸€æ ·è°ƒç”¨å’Œä¼ é€’ï¼š

### 2.1 ç®—æœ¯è¿ç®—

#### `+` - åŠ æ³•ï¼ˆæ”¯æŒå¤šå‚æ•°ï¼‰
```scheme
(+ 1 2)                       ; ç»“æœ: 3
(+ 1 2 3 4)                   ; ç»“æœ: 10
(+)                           ; ç»“æœ: 0 (åŠ æ³•å•ä½å…ƒ)
```

#### `-` - å‡æ³•ï¼ˆæ”¯æŒå¤šå‚æ•°ï¼‰
```scheme
(- 10 3)                      ; ç»“æœ: 7
(- 10 3 2)                    ; ç»“æœ: 5
(- 5)                         ; ç»“æœ: -5 (å–è´Ÿ)
```

#### `*` - ä¹˜æ³•ï¼ˆæ”¯æŒå¤šå‚æ•°ï¼‰
```scheme
(* 2 3)                       ; ç»“æœ: 6
(* 2 3 4)                     ; ç»“æœ: 24
(*)                           ; ç»“æœ: 1 (ä¹˜æ³•å•ä½å…ƒ)
```

#### `/` - é™¤æ³•ï¼ˆæ”¯æŒå¤šå‚æ•°ï¼Œè¿”å›æœ‰ç†æ•°ï¼‰
```scheme
(/ 6 2)                       ; ç»“æœ: 3/1
(/ 1 3)                       ; ç»“æœ: 1/3
(/ 12 2 3)                    ; ç»“æœ: 2/1
(/ 5)                         ; ç»“æœ: 1/5 (å€’æ•°)
```

#### `quotient` - æ•´æ•°é™¤æ³•
```scheme
(quotient 17 5)               ; ç»“æœ: 3
(quotient -17 5)              ; ç»“æœ: -3
```

#### `modulo` - æ¨¡è¿ç®—
```scheme
(modulo 17 5)                 ; ç»“æœ: 2
(modulo -17 5)                ; ç»“æœ: 3
```

#### `expt` - æŒ‡æ•°è¿ç®—
```scheme
(expt 2 10)                   ; ç»“æœ: 1024
(expt 3 4)                    ; ç»“æœ: 81
```

### 2.2 æ¯”è¾ƒè¿ç®—

#### `<` - å°äºï¼ˆæ”¯æŒå¤šå‚æ•°ï¼‰
```scheme
(< 1 2)                       ; ç»“æœ: #t
(< 1 2 3 4)                   ; ç»“æœ: #t
(< 1 3 2)                     ; ç»“æœ: #f
```

#### `<=` - å°äºç­‰äºï¼ˆæ”¯æŒå¤šå‚æ•°ï¼‰
```scheme
(<= 1 2)                      ; ç»“æœ: #t
(<= 1 1 2)                    ; ç»“æœ: #t
```

#### `=` - æ•°å€¼ç›¸ç­‰ï¼ˆæ”¯æŒå¤šå‚æ•°ï¼‰
```scheme
(= 1 1)                       ; ç»“æœ: #t
(= 1 1 1 1)                   ; ç»“æœ: #t
(= 1 2)                       ; ç»“æœ: #f
```

#### `>=` - å¤§äºç­‰äºï¼ˆæ”¯æŒå¤šå‚æ•°ï¼‰
```scheme
(>= 3 2)                      ; ç»“æœ: #t
(>= 3 3 2 1)                  ; ç»“æœ: #t
```

#### `>` - å¤§äºï¼ˆæ”¯æŒå¤šå‚æ•°ï¼‰
```scheme
(> 3 2)                       ; ç»“æœ: #t
(> 4 3 2 1)                   ; ç»“æœ: #t
```

#### `eq?` - å¯¹è±¡ç›¸ç­‰æ€§æ£€æŸ¥
```scheme
(eq? 'a 'a)                   ; ç»“æœ: #t
(eq? 1 1)                     ; ç»“æœ: #t
(eq? "hello" "hello")         ; ç»“æœ: #f (ä¸åŒå¯¹è±¡)
```

### 2.3 ç±»å‹è°“è¯

#### `boolean?` - æ£€æŸ¥æ˜¯å¦ä¸ºå¸ƒå°”å€¼
```scheme
(boolean? #t)                 ; ç»“æœ: #t
(boolean? #f)                 ; ç»“æœ: #t
(boolean? 42)                 ; ç»“æœ: #f
```

#### `number?` - æ£€æŸ¥æ˜¯å¦ä¸ºæ•°å€¼
```scheme
(number? 42)                  ; ç»“æœ: #t
(number? -17)                 ; ç»“æœ: #t
(number? "42")                ; ç»“æœ: #f
```

#### `string?` - æ£€æŸ¥æ˜¯å¦ä¸ºå­—ç¬¦ä¸²
```scheme
(string? "hello")             ; ç»“æœ: #t
(string? 'hello)              ; ç»“æœ: #f
```

#### `symbol?` - æ£€æŸ¥æ˜¯å¦ä¸ºç¬¦å·
```scheme
(symbol? 'hello)              ; ç»“æœ: #t
(symbol? "hello")             ; ç»“æœ: #f
```

#### `null?` - æ£€æŸ¥æ˜¯å¦ä¸ºç©ºå€¼
```scheme
(null? '())                   ; ç»“æœ: #t
(null? (list))                ; ç»“æœ: #t
(null? (list 1))              ; ç»“æœ: #f
```

#### `pair?` - æ£€æŸ¥æ˜¯å¦ä¸ºå¯¹å¶
```scheme
(pair? (cons 1 2))            ; ç»“æœ: #t
(pair? (list 1 2))            ; ç»“æœ: #t
(pair? '())                   ; ç»“æœ: #f
```

#### `list?` - æ£€æŸ¥æ˜¯å¦ä¸ºåˆ—è¡¨
```scheme
(list? (list 1 2 3))          ; ç»“æœ: #t
(list? '())                   ; ç»“æœ: #t
(list? (cons 1 2))            ; ç»“æœ: #f (ä¸è§„èŒƒåˆ—è¡¨)
```

#### `procedure?` - æ£€æŸ¥æ˜¯å¦ä¸ºè¿‡ç¨‹
```scheme
(procedure? +)                ; ç»“æœ: #t
(procedure? (lambda (x) x))   ; ç»“æœ: #t
(procedure? 42)               ; ç»“æœ: #f
```

### 2.4 åˆ—è¡¨æ“ä½œ

#### `cons` - æ„é€ å¯¹å¶
```scheme
(cons 1 2)                    ; ç»“æœ: (1 . 2)
(cons 1 '())                  ; ç»“æœ: (1)
(cons 1 (cons 2 '()))         ; ç»“æœ: (1 2)
```

#### `car` - è·å–å¯¹å¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
```scheme
(car (cons 1 2))              ; ç»“æœ: 1
(car (list 1 2 3))            ; ç»“æœ: 1
```

#### `cdr` - è·å–å¯¹å¶çš„ç¬¬äºŒä¸ªå…ƒç´ 
```scheme
(cdr (cons 1 2))              ; ç»“æœ: 2
(cdr (list 1 2 3))            ; ç»“æœ: (2 3)
```

#### `list` - æ„é€ åˆ—è¡¨
```scheme
(list)                        ; ç»“æœ: ()
(list 1)                      ; ç»“æœ: (1)
(list 1 2 3)                  ; ç»“æœ: (1 2 3)
```

#### `set-car!` - ä¿®æ”¹å¯¹å¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
```scheme
(define p (cons 1 2))
(set-car! p 10)
p                             ; ç»“æœ: (10 . 2)
```

#### `set-cdr!` - ä¿®æ”¹å¯¹å¶çš„ç¬¬äºŒä¸ªå…ƒç´ 
```scheme
(define p (cons 1 2))
(set-cdr! p 20)
p                             ; ç»“æœ: (1 . 20)
```

### 2.5 é€»è¾‘è¿ç®—

#### `not` - é€»è¾‘é
```scheme
(not #t)                      ; ç»“æœ: #f
(not #f)                      ; ç»“æœ: #t
(not 0)                       ; ç»“æœ: #f (é#få³çœŸ)
```

### 2.6 è¾“å…¥è¾“å‡º

#### `display` - æ˜¾ç¤ºå€¼
è¾“å‡ºå€¼åˆ°å±å¹•ï¼Œå­—ç¬¦ä¸²ä¸æ˜¾ç¤ºå¼•å·ï¼Œæ”¯æŒè½¬ä¹‰å­—ç¬¦ã€‚
```scheme
(display "Hello, World!")     ; è¾“å‡º: Hello, World!
(display 42)                  ; è¾“å‡º: 42
(display '(1 2 3))            ; è¾“å‡º: (1 2 3)
```

### 2.7 ç³»ç»Ÿæ§åˆ¶

#### `void` - è¿”å›ç©ºå€¼
```scheme
(void)                        ; ç»“æœ: #<void>
```

#### `exit` - é€€å‡ºè§£é‡Šå™¨
```scheme
(exit)                        ; é€€å‡ºç¨‹åº
```

## 3. è¯­æ³•ç³– (Syntactic Sugar)

è§£é‡Šå™¨æ”¯æŒçš„è¯­æ³•ç³–å½¢å¼ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ ‡å‡†å½¢å¼ï¼š

### 3.1 å‡½æ•°å®šä¹‰è¯­æ³•ç³–

#### åŸºæœ¬å‡½æ•°å®šä¹‰
```scheme
;; æ ‡å‡†å½¢å¼
(define factorial (lambda (n) (if (= n 0) 1 (* n (factorial (- n 1))))))

;; è¯­æ³•ç³–å½¢å¼ï¼ˆç­‰ä»·ï¼‰
(define (factorial n) (if (= n 0) 1 (* n (factorial (- n 1)))))
```

#### å¤šå‚æ•°å‡½æ•°
```scheme
;; æ ‡å‡†å½¢å¼
(define add3 (lambda (x y z) (+ x y z)))

;; è¯­æ³•ç³–å½¢å¼
(define (add3 x y z) (+ x y z))
```

#### å¤šè¡¨è¾¾å¼å‡½æ•°ä½“
```scheme
;; æ ‡å‡†å½¢å¼
(define complex-func 
  (lambda (x) 
    (begin
      (define temp (* x 2))
      (display temp)
      (+ temp 1))))

;; è¯­æ³•ç³–å½¢å¼
(define (complex-func x)
  (define temp (* x 2))
  (display temp)
  (+ temp 1))
```

### 3.2 å¼•ç”¨è¯­æ³•ç³–

#### ç¬¦å·å¼•ç”¨
```scheme
;; æ ‡å‡†å½¢å¼
(quote symbol)

;; è¯­æ³•ç³–å½¢å¼
'symbol
```

#### åˆ—è¡¨å¼•ç”¨
```scheme
;; æ ‡å‡†å½¢å¼
(quote (1 2 3))

;; è¯­æ³•ç³–å½¢å¼
'(1 2 3)
```

## 4. åŸºæœ¬æ•°æ®ç±»å‹å­—é¢é‡

### 4.1 æ•°å€¼å­—é¢é‡

#### æ•´æ•°
```scheme
42                            ; æ­£æ•´æ•°
-17                           ; è´Ÿæ•´æ•°
0                             ; é›¶
```

#### æœ‰ç†æ•°
é€šè¿‡é™¤æ³•è¿ç®—äº§ç”Ÿï¼š
```scheme
(/ 1 3)                       ; ç»“æœ: 1/3
(/ 22 7)                      ; ç»“æœ: 22/7
```

### 4.2 å¸ƒå°”å­—é¢é‡

#### å¸ƒå°”å€¼
```scheme
#t                            ; çœŸå€¼
#f                            ; å‡å€¼
```

### 4.3 å­—ç¬¦ä¸²å­—é¢é‡

#### åŸºæœ¬å­—ç¬¦ä¸²
```scheme
"hello world"                 ; åŸºæœ¬å­—ç¬¦ä¸²
""                            ; ç©ºå­—ç¬¦ä¸²
```

#### è½¬ä¹‰å­—ç¬¦æ”¯æŒ
```scheme
"hello\nworld"                ; åŒ…å«æ¢è¡Œç¬¦
"say \"hello\""               ; åŒ…å«å¼•å·
"tab\there"                   ; åŒ…å«åˆ¶è¡¨ç¬¦
"path\\file"                  ; åŒ…å«åæ–œæ 
```

### 4.4 ç¬¦å·

#### å¼•ç”¨ç¬¦å·
```scheme
'symbol                       ; ç¬¦å·å­—é¢é‡
'hello-world                  ; å¸¦è¿å­—ç¬¦çš„ç¬¦å·
'?predicate                   ; è°“è¯ç¬¦å·
'set-var!                     ; ä¿®æ”¹æ“ä½œç¬¦å·
```

### 4.5 åˆ—è¡¨

#### åŸºæœ¬åˆ—è¡¨
```scheme
'()                           ; ç©ºåˆ—è¡¨
'(1 2 3)                      ; æ•°å€¼åˆ—è¡¨
'(a b c)                      ; ç¬¦å·åˆ—è¡¨
'("hello" "world")            ; å­—ç¬¦ä¸²åˆ—è¡¨
```

#### åµŒå¥—åˆ—è¡¨
```scheme
'((1 2) (3 4))               ; äºŒç»´åˆ—è¡¨
'(1 (2 3) 4)                 ; æ··åˆåµŒå¥—
```

#### ç‚¹å¯¹
```scheme
'(1 . 2)                     ; åŸºæœ¬ç‚¹å¯¹
'(1 2 . 3)                   ; ä¸è§„èŒƒåˆ—è¡¨
```

## 5. é«˜çº§è¯­æ³•ç‰¹æ€§

### 5.1 é—­åŒ…å’Œè¯æ³•ä½œç”¨åŸŸ

#### é—­åŒ…å˜é‡æ•è·
```scheme
(define (make-counter start)
  (let ((count start))
    (lambda ()
      (set! count (+ count 1))
      count)))

(define counter1 (make-counter 0))
(define counter2 (make-counter 100))
(counter1)                    ; ç»“æœ: 1
(counter1)                    ; ç»“æœ: 2
(counter2)                    ; ç»“æœ: 101
```

#### è¯æ³•ä½œç”¨åŸŸ
```scheme
(define x 10)
(define (outer)
  (define x 20)
  (define (inner) x)
  (inner))
(outer)                       ; ç»“æœ: 20 (ä½¿ç”¨å†…å±‚çš„x)
```

### 5.2 é€’å½’å’Œç›¸äº’é€’å½’

#### ç®€å•é€’å½’
```scheme
(define (factorial n)
  (if (<= n 1)
      1
      (* n (factorial (- n 1)))))
```

#### å°¾é€’å½’
```scheme
(define (factorial-tail n acc)
  (if (<= n 1)
      acc
      (factorial-tail (- n 1) (* n acc))))
```

#### ç›¸äº’é€’å½’
```scheme
(define (even? n)
  (if (= n 0) #t (odd? (- n 1))))

(define (odd? n)
  (if (= n 0) #f (even? (- n 1))))
```

### 5.3 å†…éƒ¨å®šä¹‰

#### å‡½æ•°å†…éƒ¨å®šä¹‰
```scheme
(define (outer-func x)
  (define (helper y) (* y y))        ; å†…éƒ¨å‡½æ•°
  (define temp (+ x 1))              ; å†…éƒ¨å˜é‡
  (helper temp))
```

#### Beginå—å†…éƒ¨å®šä¹‰
```scheme
(begin
  (define local-var 42)              ; å±€éƒ¨å˜é‡
  (define (local-func) local-var)    ; å±€éƒ¨å‡½æ•°
  (local-func))                      ; ç»“æœ: 42
```

### 5.4 é«˜é˜¶å‡½æ•°

#### å‡½æ•°ä½œä¸ºå‚æ•°
```scheme
(define (apply-twice f x)
  (f (f x)))

(apply-twice (lambda (n) (* n 2)) 3)  ; ç»“æœ: 12
```

#### å‡½æ•°ä½œä¸ºè¿”å›å€¼
```scheme
(define (make-adder n)
  (lambda (x) (+ x n)))

(define add10 (make-adder 10))
(add10 5)                             ; ç»“æœ: 15
```

## 6. ç‰¹æ®Šè¯­æ³•çº¦å®š

### 6.1 æ³¨é‡Šè¯­æ³•

#### è¡Œæ³¨é‡Š
```scheme
;; è¿™æ˜¯å•è¡Œæ³¨é‡Š
(+ 1 2)  ; è¡Œæœ«æ³¨é‡Š
```

### 6.2 å˜é‡å‘½åçº¦å®š

#### æœ‰æ•ˆçš„æ ‡è¯†ç¬¦å­—ç¬¦
- å­—æ¯ï¼š`a-z`, `A-Z`
- æ•°å­—ï¼š`0-9`ï¼ˆä¸èƒ½å¼€å¤´ï¼‰
- ç‰¹æ®Šå­—ç¬¦ï¼š`-`, `?`, `!`, `+`, `*`, `/`, `<`, `>`, `=`

#### å‘½åçº¦å®š
```scheme
;; è°“è¯å‡½æ•°ä»¥?ç»“å°¾
(define (positive? x) (> x 0))

;; ä¿®æ”¹å‡½æ•°ä»¥!ç»“å°¾
(define (set-value! var val) (set! var val))

;; å¤šå•è¯ç”¨è¿å­—ç¬¦è¿æ¥
(define my-special-function (lambda (x) x))
```

### 6.3 å‡½æ•°è°ƒç”¨è¯­æ³•

#### åŸºæœ¬è°ƒç”¨
```scheme
(function-name arg1 arg2 ...)
```

#### Lambdaç›´æ¥è°ƒç”¨
```scheme
((lambda (x y) (+ x y)) 3 4)
```

#### åµŒå¥—è°ƒç”¨
```scheme
(+ (* 2 3) (/ 8 4))           ; ç»“æœ: 8
```

## 7. è¯­æ³•å½¢å¼åˆ†ç±»ç»Ÿè®¡

### 7.1 æŒ‰ç±»åˆ«ç»Ÿè®¡
- **ç‰¹æ®Šå½¢å¼**: 12 ä¸ªï¼ˆlet, letrec, define, if, cond, begin, and, or, lambda, quote, set!ï¼‰
- **ç®—æœ¯è¿ç®—**: 7 ä¸ªï¼ˆ+, -, *, /, quotient, modulo, exptï¼‰
- **æ¯”è¾ƒè¿ç®—**: 6 ä¸ªï¼ˆ<, <=, =, >=, >, eq?ï¼‰
- **ç±»å‹è°“è¯**: 8 ä¸ªï¼ˆboolean?, number?, string?, symbol?, null?, pair?, list?, procedure?ï¼‰
- **åˆ—è¡¨æ“ä½œ**: 6 ä¸ªï¼ˆcons, car, cdr, list, set-car!, set-cdr!ï¼‰
- **é€»è¾‘è¿ç®—**: 1 ä¸ªï¼ˆnotï¼‰
- **ç³»ç»Ÿå‡½æ•°**: 3 ä¸ªï¼ˆdisplay, void, exitï¼‰
- **è¯­æ³•ç³–**: 2 ç§ä¸»è¦å½¢å¼ï¼ˆå‡½æ•°å®šä¹‰ã€å¼•ç”¨ï¼‰

### 7.2 æŒ‰æ±‚å€¼ç‰¹æ€§ç»Ÿè®¡
- **ç‰¹æ®Šæ±‚å€¼**: 12 ä¸ªï¼ˆç‰¹æ®Šå½¢å¼ï¼‰
- **æ ‡å‡†æ±‚å€¼**: 31 ä¸ªï¼ˆåŸè¯­å‡½æ•°ï¼‰
- **è¯­æ³•è½¬æ¢**: 2 ä¸ªï¼ˆè¯­æ³•ç³–ï¼‰

### 7.3 æŒ‰å‚æ•°ç‰¹æ€§ç»Ÿè®¡
- **å¯å˜å‚æ•°**: 10 ä¸ªï¼ˆ+, -, *, /, <, <=, =, >=, >, and, or, listï¼‰
- **å›ºå®šå‚æ•°**: 33 ä¸ªï¼ˆå…¶ä»–æ‰€æœ‰å‡½æ•°ï¼‰
- **æ— å‚æ•°**: 3 ä¸ªï¼ˆvoid, exit, +, *, and, or çš„é›¶å‚æ•°æƒ…å†µï¼‰

## 8. å®ç°ç‰¹è‰²

### 8.1 å®Œæ•´çš„é—­åŒ…æ”¯æŒ
- è¯æ³•ä½œç”¨åŸŸ
- å˜é‡æ•è·
- ç¯å¢ƒé“¾ç®¡ç†

### 8.2 é€’å½’ä¼˜åŒ–
- æ”¯æŒç›´æ¥é€’å½’
- æ”¯æŒç›¸äº’é€’å½’
- letrec è¯­ä¹‰æ­£ç¡®å®ç°

### 8.3 è¯­æ³•ç³–è‡ªåŠ¨å±•å¼€
- å‡½æ•°å®šä¹‰è¯­æ³•ç³–è‡ªåŠ¨è½¬æ¢
- å¼•ç”¨è¯­æ³•ç³–å¤„ç†
- å¤šè¡¨è¾¾å¼å‡½æ•°ä½“æ”¯æŒ

### 8.4 ç±»å‹ç³»ç»Ÿ
- åŠ¨æ€ç±»å‹æ£€æŸ¥
- å®Œæ•´çš„ç±»å‹è°“è¯
- è¿è¡Œæ—¶ç±»å‹å®‰å…¨

### 8.5 é”™è¯¯å¤„ç†
- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- ç±»å‹é”™è¯¯æ£€æŸ¥
- å‚æ•°æ•°é‡éªŒè¯

è¿™ä¸ª Scheme è§£é‡Šå™¨å®ç°äº† Scheme è¯­è¨€çš„æ ¸å¿ƒè¯­æ³•ç‰¹æ€§ï¼Œæ”¯æŒç°ä»£å‡½æ•°å¼ç¼–ç¨‹çš„ä¸»è¦èŒƒå¼ï¼ŒåŒ…æ‹¬é«˜é˜¶å‡½æ•°ã€é—­åŒ…ã€é€’å½’ç­‰ç‰¹æ€§ï¼Œä¸ºå­¦ä¹ å’Œå®è·µå‡½æ•°å¼ç¼–ç¨‹æä¾›äº†å®Œæ•´çš„è¯­è¨€ç¯å¢ƒã€‚
